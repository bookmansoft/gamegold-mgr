# GameGold Mgr 功能框架 V1.0
@note GamgGold Mgr 是基于 GameGold Core 核心API 的图形化管理工具，并非面向一般公众的开放式网站

## 区块链浏览器
图形化方式浏览、解读链上数据。这部分功能属于脱敏操作，可以直接或包装后，面向公众无条件开放

## 钱包相关
实现钱包相关的功能，如备份、恢复、转账、浏览钱包内物品，等等。这部分功能需要RPC授权码、钱包插件支持
由于基于PC版的钱包和全节点，无法实现简单易行的密钥管理方案，因此GGM钱包只是从属钱包、经营性钱包
游戏主拥有一个主控钱包，可以向GGM钱包中注入合适的经营资金，由GGM直接执行，也可以应用审批模式，即由GGM生成业务单据，主控钱包审批通过。

## 游戏管理
需要RPC授权码

注册游戏：只能在主控钱包上执行，GGM只提供查询功能
修改游戏信息：只能在主控钱包上执行，GGM只提供查询功能
批量制作道具：在GGM上执行，游戏主预先注入足够的游戏金，GGM批量制作
空投：在GGM上执行。GGM搜索合适的用户群落后，批量发送
挖矿：微调现有挖矿规则，只需要奖励地址上拥有矿产证和足够的游戏金，即可顺利出块，不需要GGM钱包进行签名。

@note 如何为 portal 生成RPC授权码
1、设定配置表 hmac-salt 字段，注意如果该字段被修改，之前发放的所有RPC授权码将全部无效
2、在运行全节点的服务器控制台上，运行如下指令，并将屏显的RPC授权码拷贝、存储，然后离线分发给 portal：
    npm run cli rpc token.auth [cid1, cid2...]
3、在 src/utils/remoting.js 中配置相应参数

# GameGold Core 核心API
我们只对外提供有校验的RPC接口，用于全节点拥有者进行远程安全访问
无校验RPC接口由运行全节点的服务商自行封装后对公众开放

Q: 是否会有第三方恶意制作他人游戏道具？
A: 游戏的实际用途、介绍说明、图片展示都由归属厂商解释执行，第三方即使制作非授权道具，也无法正常解析，结果就是被玩家直接熔铸。

# 游戏管理模块

## 功能大纲
游戏管理功能：
1、所有已注册游戏
  1、列表
  2、查询

2、我注册的游戏
  1、列表
  2、查询
  3、新增
  4、修改

游戏卡设计
1、名称
2、图片
2、引导链接

## 以查询游戏列表为例，详细说明实现步骤
1、在 src/common/menu.js 中新增一个菜单选项，路径设为 'cp-list'
```js
    {
      name: '游戏列表',
      path: 'cp-list',
    },
```

2、在 src/common/router.js 中新增一条路径为 'cp-list' 的路由
```js
  '/list/cp-list': {
    component: dynamicWrapper(app, ['list'], () => import('../routes/List/CpList')),
  },
```

3、在 src/routes/List 下新增 CpList.js 和CpList.less

4、利用 src/utils/remoting.js 提供的 remoting 函数，对接 GameGold Restful 服务
测试阶段利用 .roadhogrc.mock.js 中的 'POST /api/execute' 提供mock数据
```js
  const proxy = {
    // remote.execute 方法的统一入口
    'POST /api/execute': (req, res) => { 
      const { method } = req.body;
      if (method === 'token.random') {
        res.send({
          error: null,
          result: 'f1573c53d45441e7d38b1e06ff3687bc26f716b0af06bc6cd219fb3768406087',
        });
      }
    },
  };
```
线上版本利用 .webpackrc.js 中的配置字段 proxy 重定向mock数据
```js
  //配置 webpack-dev-server 的 proxy 属性，代理请求到其他服务器
  proxy: {
    "/api/execute": {
      "target": "http://localhost:17332",
      "changeOrigin": true,
      "pathRewrite": { "^/api/execute" : "" }
    }
  },
```

5、修改卡片样式，关联各项管理功能
